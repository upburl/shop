<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout Page</title>
      <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.1/css/all.css">
    <link rel="stylesheet" href=
  "https://site-assets.fontawesome.com/releases/v6.7.1/css/duotone-regular.css">
  <link rel="stylesheet" href=
  "https://site-assets.fontawesome.com/releases/v6.7.1/css/duotone-light.css">
  <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 400px;
            margin: auto;
            background-color: #fff;
            border-radius: 8px;
        }
  .cart-items {
    background-color: #f8f8f1;
    padding: 15px;
    margin-top: 20px;
    border-radius: 8px;
    display: flex;              /* Added */
    flex-direction: column;     /* Added */
    align-items: center;        /* Keeps items centered vertically */
}

.cart-item {
    display: flex;
    align-items: center;
    background: white;
    padding: 8px;
    border-radius: 5px;
    margin-bottom: 4px;
    position: relative;
    border: 1px solid #ddd;
    width: 100%;                /* Changed from 96% to 100% */
    max-width: 600px;           /* Added to prevent overflow */
    gap: 8px;
    box-sizing: border-box;     /* Added to include padding in width */
}

.cart-item img {
    width: 45px;
    height: 45px;
    object-fit: cover;
    border-radius: 5px;
    flex-shrink: 0;
}

.item-details {
    display: flex;
    flex-direction: column;
    flex: 1;
    min-width: 0;
}

.item-info {
    display: flex;
    flex-direction: column;
}

.item-name {
    font-weight: bold;
    font-size: 16px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.item-price {
    color: gray;
    font-size: 14px;
}

.quantity-controls {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
    margin-left: auto;
    padding-right: 40px;        /* Reduced from 21% to a fixed value */
    height: 100%;
}

.quantity-btn {
    background: black;
    color: white;
    border: none;
    padding: 5px 10px;
    cursor: pointer;
    border-radius: 50%;
    font-size: 16px;
}

.quantity-number {
    min-width: 20px;
    text-align: center;
    font-size: 16px;
}

.remove-item {
    background: red;
    color: white;
    border: none;
    font-size: 16px;
    cursor: pointer;
    padding: 3px 6px;
    position: absolute;
    right: 15px;
    border-radius: 25%;
}
        h2 {
            margin-bottom: 10px;
        }
        label {
            font-weight: bold;
            display: block;
            margin-top: 10px;
        }
        input, select {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .order-summary {
            background-color: #f8f8f1;
            padding: 15px;
            margin-top: 20px;
            border-radius: 8px;
        }
        .order-summary h3 {
            margin-bottom: 10px;
        }
        .order-table {
            width: 100%;
            border-collapse: collapse;
        }
        .order-table td, .order-table th {
            padding: 10px;
        }
        .order-table td:first-child {
            text-align: left;
        }
        .order-table td:last-child {
            text-align: right;
        }
        .total {
            font-weight: bold;
        }
        .place-order {
            background-color: black;
            color: white;
            padding: 15px;
            width: 100%;
            border: none;
            cursor: pointer;
            font-size: 16px;
            margin-top: 20px;
            border-radius: 5px;
        }
   header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0;
    background: white;
    font-size: 24px;
    position: relative;
    overflow: hidden;
}
.icon i, .cart-icon i {
    font-size: 30px;
}

.cart-icon {
  color:white;
    position: relative;
}

.cart-count {
    position: absolute;
    top: -5px;
    right: -5px;
    background: white;
    color: white;
    font-size: 14px;
    border-radius: 50%;
    padding: 4px 7px;
}
@keyframes rotate-shake {
    0%, 100% { transform: rotate(0deg); }
    20% { transform: rotate(-10deg); }
    40% { transform: rotate(10deg); }
    60% { transform: rotate(-10deg); }
    80% { transform: rotate(10deg); }
}

.cart-shaking {
    animation: rotate-shake 0.5s ease-in-out;
}
.truck-icon {
    position: relative;
    transition: transform 2s linear;
}
  h2 {
    font-size: 18px;
    margin-top: 10px;
}

    </style>
</head>
<body>
 <header>
        <div class="icon truck-icon">
            <i onclick="window.location.href='index.html'" id="tracking" class="fas fa-arrow-left"></i>
        </div>
        <h2>VitaGlow</h2>
        <div class="cart-icon">
                 <i onclick="window.location.href='index.html'" id="tracking" class="fas fa-arrow-left"></i>
       <span class="cart-count"></span>
        </div>
    </header>

<div class="container">
  <div class="cart-items"></div>

    <h2>Billing details</h2>
    <label>First name *</label>
    <input type="text">

    <label>Last name (optional)</label>
    <input type="text">

    
    <label>Street address *</label>
    <input type="text" placeholder="House number and street name">

    <label>Town / City *</label>
    <input type="text">

    <label>District *</label>
    <select id="districts">
        <!-- Populated by JavaScript -->
    </select>

    <label>Phone *</label>
    <input type="text">
<label>Country / Region *</label>
    <p><strong>Bangladesh</strong></p>

    <div class="order-summary">
        <h3>Your order</h3>
        <table class="order-table">
            <tbody id="orderDetails"></tbody>
            <tr>
                <td>Shipping</td>
                <td>Flat rate: <strong>50.00৳</strong></td>
            </tr>
            <tr class="total">
                <td>Total</td>
                <td id="totalPrice"></td>
            </tr>
        </table>
    </div>

    <button class="place-order"   onclick="window.location.href='process.html'">PLACE ORDER</button>
</div>

<script>
    // Product Data
    // Initial products array
const products = [
    { name: "Aurora 3.5ML", quantity: 3, price: 120.00 },
    { name: "Cloud 3.5ML", quantity: 1, price: 120.00 }
];

// Convert initial products to cart format with added IDs and images
let cart = products.map((product, index) => ({
    id: index + 1,
    name: product.name,
    price: product.price,
    quantity: product.quantity,
    image: `p${index + 1}.jpg`
}));

// DOM elements
const cartItemsContainer = document.querySelector(".cart-items");
const orderDetails = document.getElementById("orderDetails");
const subtotalElement = document.getElementById("subtotal");
const totalPriceElement = document.getElementById("totalPrice");

// Districts List
const districts = [
    "Dhaka", "Chattogram", "Rajshahi", "Khulna", "Barishal",
    "Sylhet", "Rangpur", "Mymensingh", "Cumilla", "Gazipur",
    "Narayanganj", "Jessore", "Bogra", "Dinajpur", "Tangail"
];

function renderCart() {
    // Clear existing content
    cartItemsContainer.innerHTML = "";
    orderDetails.innerHTML = "";
    
    let subtotal = 0;
    const shippingCost = 50.00;

    // Render cart items
    cart.forEach(item => {
        subtotal += item.price * item.quantity;

        // Cart items display
        const cartItem = document.createElement("div");
        cartItem.classList.add("cart-item");
        cartItem.innerHTML = `
            <img src="${item.image}" alt="${item.name}">
            <div class="item-details">
                <div class="item-info">
                    <span class="item-name">${item.name}</span>
                    <span class="item-price">${item.price.toFixed(2)}৳</span>
                </div>
            </div>
            <div class="quantity-controls">
                <button class="quantity-btn decrease" data-id="${item.id}">−</button>
                <span class="quantity-number">${item.quantity}</span>
                <button class="quantity-btn increase" data-id="${item.id}">+</button>
            </div>
            <button class="remove-item" data-id="${item.id}">×</button>
        `;
        cartItemsContainer.appendChild(cartItem);

        // Order details display
        const row = document.createElement("tr");
        row.innerHTML = `
            <td>${item.name} x${item.quantity}</td>
            <td>${(item.price * item.quantity).toFixed(2)}৳</td>
        `;
        orderDetails.appendChild(row);
    });

    // Add subtotal row
    const subtotalRow = document.createElement("tr");
    subtotalRow.innerHTML = `<td>Subtotal</td><td>${subtotal.toFixed(2)}৳</td>`;
    orderDetails.appendChild(subtotalRow);

    // Calculate and display total
    const total = subtotal + shippingCost;
    
    // Update total price (now inside the table)
    if (totalPriceElement) {
        totalPriceElement.innerHTML = `<strong>${total.toFixed(2)}৳</strong>`;
    }

    // Update subtotal if element exists
    if (subtotalElement) {
        subtotalElement.textContent = `${subtotal.toFixed(2)}৳`;
    }
}

function updateQuantity(id, change) {
    id = parseInt(id);
    const item = cart.find(product => product.id === id);
    if (item) {
        item.quantity += change;
        if (item.quantity < 1) {
            removeItem(id);
            return;
        }
        renderCart();
    }
}

function removeItem(id) {
    id = parseInt(id);
    cart = cart.filter(item => item.id !== id);
    renderCart();
}

// Event listener for cart interactions
cartItemsContainer.addEventListener("click", function (e) {
    if (e.target.classList.contains("increase")) {
        updateQuantity(e.target.dataset.id, 1);
    } else if (e.target.classList.contains("decrease")) {
        updateQuantity(e.target.dataset.id, -1);
    } else if (e.target.classList.contains("remove-item")) {
        removeItem(e.target.dataset.id);
    }
});

// Populate districts dropdown
const districtSelect = document.getElementById("districts");
districts.forEach(district => {
    const option = document.createElement("option");
    option.textContent = district;
    districtSelect.appendChild(option);
});

// Initial render
renderCart();
</script>

</body>
</html>
